import Callout from 'nextra-theme-docs/callout'

# Get Started

## Prerequisite

Lerna and MongoDB have to be installed before setting up the project.

### Lerna

Outerbridge has 3 different modules in a single mono repository.
- `server`: Node backend to serve API logics
- `ui`: React frontend
- `components`: Nodes and Credentials of applications

Lerna is used to link these modules together.
```bash
npm install -g lerna
```

### MongoDB

Outerbridge uses MongoDB as database. Download and install one [here](https://www.mongodb.com/try/download/community?tck=docs_server).


## Setup
1. Clone the repository
	```bash
	git clone https://github.com/Outerbridgeio/Outerbridge.git
	```

2. Go into repository folder
	```bash
	cd Outerbridge
	```

3. Install all dependencies of all modules and link them together:
	```bash
	lerna bootstrap --hoist
	```

4. Build all the code:
	```bash
	yarn run build
	```
    
    If you don't have yarn installed:
    ```bash
    npm install --global yarn
    ```

5. Start the app:
	```bash
	yarn run start
	```

You can now access the production-ready app on `http://localhost:3000/`.

## Development
For development build, run: `yarn run dev`. Any code changes will reload the app automatically on `http://localhost:8080/`.

## Tunnel

<Callout type="warning" emoji="⚠️">
  Beware of using Tunnel URL in production
</Callout>

By default, starting Outerbridge will also spins up a tunnel url. You can access the exact same app on this url. A console log will be shown like this:
```jsx
process.env.TUNNEL_BASE_URL = http://<domain>-<name>-<number>.loca.lt/
```
This is needed for third-party webhook integration such as Alchemy Webhook in order to reach Outerbridge on web. However it should not be used in production because anyone can access the app.
To toggle this off:
1. Go to `Outerbridge/packages/server`
2. Create one `.env` file or modify the existing one by setting:
  ```jsx
  ENABLE_TUNNEL=false
  ```
3. Rebuild the app `yarn run build`
